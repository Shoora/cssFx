var cssFx=cssFx||{};(function(a){function i(a,b){var c=function(a){for(a=0;a<4;a++)try{return a?new ActiveXObject([,"Msxml2","Msxml3","Microsoft"][a]+".XMLHTTP"):new XMLHttpRequest}catch(b){}};if(r=c())r.onreadystatechange=function(){r.readyState==4&&b(r.responseText)},r.open("GET",a,!0),r.send(h)}function j(a,b){return a.replace(b!=h?/\/\*([\s\S]*?)\*\//gim:"","").replace(/\n/gm,"").replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/\s{2,}|\t/gm," ")}function k(a,b,c){return((256+a<<8|b)<<8|c).toString(16).slice(1)}function l(a,b){for(var c=b.length,d=0;d<c;d++)if(b[d]==a)return!0;return!1}function m(a,b){for(var c=a.length,d=0;d<c;d++)b.call(this,a[d])}var b=";",c="text-overflow",d="-timing-function",e="-duration",f="-image",g="transition",h=null,n="animation",o="border",p="background",q="box-",s="column",t=g,u=["-moz-","-webkit-","-o-","-ms-"],v=[p+"-origin",p+"-size",o+f,o+"-image-outset",o+"-image-repeat",o+"-image-source",o+"-image-width",o+"-radius",q+"shadow",s+"-count",s+"-gap",s+"-rule",s+"-rule-color",s+"-rule-style",s+"-rule-width",s+"-width"],w=[q+"flex",q+"orient",q+"align",q+"ordinal-group",q+"flex-group",q+"pack",q+"direction",q+"lines",q+"sizing",n+e,n+"-name",n+"-delay",n+"-direction",n+"-iteration-count",n+"-play-state",n+d,n+"-fill-mode"],x=["transform","transform-origin",t+"",t+"-property",t+e,t+d,t+"-delay","user-select"],y=[p+"-clip",o+"-bottom-left-radius",o+"-bottom-right-radius",o+"-top-left-radius",o+"-top-right-radius"],z=y.concat(x).concat(v).concat(w),A=["display","opacity",c,p+f,p].concat(z);a.processCSS=function(c){for(var d=[],e=/([\s\S]*?)\{([\s\S]*?)\}/gim,f=/\@import\s+(?:url\([\'\"]|[\'\"])([\w\s\-\_\.\:\/\;\:]+)/gim,g=/@keyframes([\s\S]*?){\s*from\s*{([\s\S]*?)}\s*to\s*{([\s\S]*?)}\s*}/gim,i=0;i<c.length;i++){var k=c[i];k=j(k,1);var l=[],n=f.test(k)&&k.match(f),o=g.test(k)&&k.match(g);f.lastIndex=0,g.lastIndex=0;if(n.length>0)for(var p=0;p<n.length;p++)c.push(a.fetchCSS([f.exec(n[p])[1]])[0]),f.lastIndex=0;if(o.length>0)for(var p=0;p<o.length;p++){k=k.replace(o[p],"");var q=g.exec(o[p]);m([0,1,3],function(c){var d=[],e=[];m(q[2].split(b),function(b){var c=j(b),e=a.processDec(c);c.length>0&&d.push(e?e:c)}),m(q[3].split(b),function(b){var c=j(b),d=a.processDec(c);c.length>0&&e.push(d?d:c)}),l.push("@"+u[c]+"keyframes "+j(q[1])+" { from {"+d.join(b)+"} to {"+e.join(b)+"} }")}),g.lastIndex=0}var r=e.test(k)&&k.match(e);e.lastIndex=0;for(var s=0,t=r.length;s<t;s++){var q=e.exec(r[s]);if(q!==h)for(var v=j(q[1],1),w=j(q[2],1),x=0,y=A.length;x<y;x++)if(!!~w.indexOf(A[x])){(new_dec=a.processDec(w))&&l.push(v+"{"+new_dec+"}");break}e.lastIndex=0}l.length>0&&d.push(l.join("\n"))}return d},a.insertCSS=function(a){for(var b=0;b<a.length;b++){var c=document.createElement("style");c.setAttribute("type","text/css"),c.styleSheet?c.styleSheet.cssText=a[b]:c.textContent=a[b],document.getElementsByTagName("head")[0].appendChild(c)}},a.processDec=function(a){var d="display:",e=":";for(var h=a.split(b),i=[],n=0;n<h.length;n++)if(!!~h[n].indexOf(e)){var a=h[n].split(e);if(a.length!=2)return!1;var o=j(a[0]),q=j(a[1]),r=[o,q].join(e),s=[];if(l(o,v))s.push(u[0]+r),s.push(u[1]+r);else if(l(o,w))s.push(u[0]+r),s.push(u[1]+r),o==="box-align"?s.push(u[3]+o+":middle"):s.push(u[3]+r);else if(l(o,x))m([0,1,2,3],function(a){if(o==g){var b=q.split(" ")[0];l(b,z)?s.push(u[a]+r.replace(b,u[a]+b)):s.push(u[a]+r)}else if(o=="transition-property"){if(a==0){var c=q.split(","),d=[];m(c,function(b){var c=j(b);l(c,z)&&d.push(u[a]+c)}),s.push(u[a]+o+e+d.join(","))}}else s.push(u[a]+r)});else if(l(o,y))if(o==p+"-clip")q==="padding-box"&&(s.push(u[1]+r),s.push(u[0]+o+":padding"));else{var t=o.split("-");s.push(u[0]+"border-radius-"+t[1]+t[2]+e+q),s.push(u[1]+r)}else switch(o){case"display":q==="box"?m([0,1,3],function(a){s.push(d+u[a]+q)}):q==="inline-block"&&(s.push(d+u[0]+"inline-stack"),s.push("zoom:1;*display:inline"));break;case c:q==="ellipsis"&&s.push(u[2]+r);break;case"opacity":var A=parseInt(parseFloat(q)*100);s.push(u[3]+"filter:progid:DXImageTransform.Microsoft.Alpha(Opacity="+A+")"),s.push("filter: alpha(opacity="+A+")"),s.push(u[0]+r),s.push(u[1]+r);break;case p+f:case p+"-color":case p:var B="linear-gradient";if(!~q.indexOf(B)){if(!!~q.indexOf("rgba")){var E=q.match(/rgba\((.*?)\)/)[1].split(","),F=Math.floor(+j(E[3])*255).toString(16)+k(+j(E[0]),+j(E[1]),+j(E[2]));s.push("filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+F+",endColorstr=#"+F+");zoom:1")}}else{var C=q.substr(B.length);o==="background-image"&&(C=q.substr(B.length).match(/\((.*)\)/)[0]);var D=B+C;m([0,1,2,3],function(a){s.push(o+e+u[a]+D)})}}s.length>0&&i.push(s.join(b))}return i.length>0?i.join(b):!1},a.fetchCSS=function(a,b){i(a,b)};var B=function(){var b=document.getElementsByTagName("style"),c=document.getElementsByTagName("link"),d=function(b){a.insertCSS(a.processCSS([b]))};for(var e in c)typeof c[e]=="object"&&c[e].className==="cssfx"&&a.fetchCSS(c[e].href,d);var f=[];for(var e in b)typeof b[e]=="object"&&f.push(b[e].innerHTML);a.insertCSS(a.processCSS(f))};window.addEventListener?window.addEventListener("load",B,!1):window.attachEvent?window.attachEvent("onload",B):h})(cssFx)
